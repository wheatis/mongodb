# ğŸ“¦ Neo4j-TP â€“ Recommandation de Produits avec Graphe

## ğŸ§  Contexte

Ce projet a Ã©tÃ© rÃ©alisÃ© dans le cadre dâ€™un TP de bases de donnÃ©es. Il a pour but de modÃ©liser les interactions entre **clients**, **commandes** et **produits** Ã  lâ€™aide dâ€™une base de donnÃ©es orientÃ©e graphe avec **Neo4j**, afin de :

- Visualiser les relations entre clients et produits,
- Effectuer des requÃªtes complexes,
- Fournir des recommandations de produits,
- Et exposer ces donnÃ©es via une **API Flask** simple.

---

## ğŸ“ Structure du projet

neo4j-tp/
â”œâ”€â”€ data/ # DonnÃ©es Neo4j 
â”œâ”€â”€ docs/
â”‚ â””â”€â”€ queries.cypher # RequÃªtes Cypher utilisÃ©es
â”œâ”€â”€ env/ # Environnement virtuel Python
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ app.py # API Flask exposant les endpoints
â”‚ â””â”€â”€ insert_data.py # Script dâ€™insertion des donnÃ©es
â”œâ”€â”€ docker-compose.yml # Docker pour lancer Neo4j
â”œâ”€â”€ requirements.txt # Librairies Python nÃ©cessaires
â””â”€â”€ README.md # Documentation du projet

---

## âš™ï¸ Installation et lancement

### 1. Cloner le projet

```bash
git clone https://github.com/wheatis/mongodb.git
cd neo4j-tp
```

### 2. Lancer Neo4j via Docker

```bash
docker-compose up -d
```

- Cela dÃ©marre Neo4j sur :
    Interface Web : http://localhost:7474
    Bolt URI : bolt://localhost:7687
- Identifiants par dÃ©faut :
    Utilisateur : neo4j
    Mot de passe : password
    
### 3. CrÃ©er lâ€™environnement Python

```bash
python3 -m venv env
source env/bin/activate
pip install -r requirements.txt
```

### 4. InsÃ©rer les donnÃ©es dans Neo4j

```bash
cd src
python insert_data.py
```

- Cela crÃ©e automatiquement :
    3 clients
    Plusieurs produits
    3 commandes avec relations
    
### 5. Lancer lâ€™API Flask
```bash
python app.py
```

Lâ€™API tourne sur : http://127.0.0.1:5000

## ğŸ”Œ Endpoints de lâ€™API

| MÃ©thode | URL                                      | Description |
|---------|------------------------------------------|-------------|
| GET     | `/produits/<nom_client>`                 | Retourne les produits achetÃ©s par un client |
| GET     | `/clients/<nom_produit>`                 | Retourne les clients ayant achetÃ© un produit |
| GET     | `/commandes_contenant/<nom_produit>`     | Retourne les commandes contenant un produit |
| GET     | `/suggestions/<nom_client>`              | SuggÃ¨re des produits basÃ©s sur les clients similaires |


Exemples :
    http://127.0.0.1:5000/produits/Alice
    http://127.0.0.1:5000/suggestions/Alice
    
## ğŸ§¾ RequÃªtes Cypher (docs/queries.cypher)

Le fichier `queries.cypher` contient les requÃªtes utilisÃ©es dans le projet, comme :

```cypher
// Produits achetÃ©s par Alice
MATCH (c:Client {nom: "Alice"})-[:A_EFFECTUE]->(:Commande)-[:CONTIENT]->(p:Produit)
RETURN p.nom
```
